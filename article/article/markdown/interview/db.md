# 정규화

DB 데이터의 `중복을 최대한 제거`하고 `이상 현상을 방지`하며 `데이터를 논리적으로 저장`하는 기술

`갱신 이상`, `삽입 이상`, `삭제 이상`이 있으며 작업 시 `의도치 않은 결과로 데이터의 불일치가 발생`하는 것을 의미

- `제1정규화` : `속성의 원자성`을 확보(원자값이 아닌 도메인을 분해)하고 기본키를 설정
- `제2정규화` : 1정규화를 만족하며 기본키에 `완전 함수 종속성(기본키에만 종속)`하게 만듦
- `제3정규화` : 2정규화를 만족하며 기본키에 `이행 함수 종속성(기본키를 제외한 속성 간 종속성)`을 제거
- `역정규화`, `반정규화` : `성능 개선`을 위해 중복을 허용하여 DB 구조를 재조정

***

# DB 키의 개념

키의 성질은 다음과 같다.

- `유일성` : 하나의 키값으로 튜플을 유일하게 식별
- `최소성` : 최소한의 속성들로 키 구성

키의 종류는 다음과 같다.

- `수퍼키` : 중복된 값이 존재하지 않고, 서로 구분만 가능하면 수퍼키(유일성)
- `후보키` : 유일성과 최소성을 모두 만족하는 속성들의 집합(유일성, 최소성)
- `기본키` : 후보키 중 해당 레코드를 식별할때 기준이 되는 반드시 필요한 키(유일성, 최소성), pk
- `대체키` : 기본키를 제외한 나머지 후보키
- `외래키` : 테이블간의 관계를 나타낼때 사용하며, 다른 테이블의 기본키를 참조해 외래키로 사용
- `복합키` : 두 개 이상의 컬럼을 묶어서 하나의 기본키로 지정한 키

***

# RDBMS와 NoSQL 차이

`RDBMS`는 `엄격한 데이터 구조`를 가지며 `join`이 쉽고, `무결성을 보장`하며 `빠른 업데이트`가 가능하다. `Scale-up(수직적 확장)`이 용이하고 주로 데이터 구조의 변경이 적고 업데이트가 많은 경우에 사용한다. 대표적으로 `MySQL`, `PostgreSQL`이 있다.

`NoSQL`은 `유연한 데이터 구조`를 가지며 `join`이 어렵고, `대용량 데이터 관리` 및 `빠른 읽기`가 가능하다. `Scale-out(수평적 확장)`이 용이하고 주로 데이터 읽기가 잦고 데이터 업데이트가 적은 경우에 사용한다. 대표적으로 `MongoDB`가 있다.

***

# Join

`두 개 이상의 테이블을 연결`하여 `데이터를 검색`하는 방법

- `Inner Join` : 두 테이블간 조인 조건을 만족하는 행을 반환
  - 명시적 조인 표현 : `join` 키워드 사용
  - 암묵적 조인 표현 : `,` 사용
- `Outer Join` : 조인 조건을 만족하지 않는 행도 반환, 매칭되지 않은 행의 추가 컬럼은 null로 표시
  - `Left Outer Join` : 조인 조건 만족 여부에 상관없이 조인문 좌측 테이블의 행은 모두 반환
  - `Right Outer Join` : 조인 조건 만족 여부에 상관없이 조인문 우측 테이블의 행은 모두 반환
  - `Full Outer Join` : 조인 조건 만족 여부에 상관없이 양쪽 테이블의 행 모두 반환
- `Cross Join` : 테이블의 행끼리 모두 매칭, 테이블 행의 개수가 각 n, m인 경우 n x m 개의 행 반환
- `Self Join` : 자기 자신을 조인, 별칭이 필수이며 조인 대상 테이블이 동일한 경우 모두 해당

***

# Partitioning(파티셔닝)과 Sharding(샤딩)

`파티셔닝`은 `매우 큰 테이블을 여러 개의 테이블로 분할하는 기능`이다. 테이블이 분할되어 있지만 실제 `사용에선 하나의 테이블에 접근하듯이 사용`할 수 있으며 쿼리 성능이 개선된다.

- `List Partitioning` : 데이터를 특정 목록에 포함 여부에 따라 분리
- `Range Partitioning` : 데이터를 특정 범위를 기준으로 분리
- `Hash Partitioning` : 해시 함수를 사용하여 분리
- `Composite Partitioning` : 두 개 이상의 파티셔닝을 사용

`샤딩`은 `동일한 스키마`를 가진 `여러 DB 서버들`에 `데이터를 샤드(작은 단위)로 분산 저장`하는 기법이다. `부하를 분산`하는 이점이 있지만 `조인에 제한`이 있다.

- `Hash Sharding` : 해시 함수를 사용하여 분리
- `Range Sharding` : 값의 범위에 따라 분리

***

# union all과 union

